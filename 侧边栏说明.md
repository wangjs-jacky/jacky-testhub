# Chrome æ‰©å±•ä¾§è¾¹æ åŠŸèƒ½è¯´æ˜

## æ¦‚è¿°

Plasmo æ¡†æ¶æ”¯æŒ Chrome æ‰©å±•çš„ä¾§è¾¹æ ï¼ˆSide Panelï¼‰åŠŸèƒ½ã€‚ä¾§è¾¹æ ç›¸æ¯”å¼¹çª—ï¼ˆPopupï¼‰æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **æ›´å¤§çš„æ˜¾ç¤ºç©ºé—´** - ä¾§è¾¹æ å¯ä»¥å æ®æµè§ˆå™¨ä¾§è¾¹åŒºåŸŸï¼Œæä¾›æ›´å¤šæ“ä½œç©ºé—´
2. **æŒä¹…åŒ–æ˜¾ç¤º** - ä¾§è¾¹æ å¯ä»¥ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œä¸ä¼šåƒå¼¹çª—é‚£æ ·ç‚¹å‡»å¤–éƒ¨å°±å…³é—­
3. **æ›´å¥½çš„ç¼–è¾‘ä½“éªŒ** - é€‚åˆéœ€è¦ç¼–è¾‘å¤§é‡æ–‡æœ¬çš„åœºæ™¯

## é¡¹ç›®ä¸­çš„å®ç°

### æ–‡ä»¶è¯´æ˜

1. **`sidepanel.tsx`** - ä¾§è¾¹æ ä¸»ç»„ä»¶ï¼Œæä¾›æ‰€æœ‰è¡¨æ ¼æ“ä½œåŠŸèƒ½
2. **`background.ts`** - èƒŒæ™¯è„šæœ¬ï¼Œé…ç½®ä¾§è¾¹æ è¡Œä¸ºå’Œå¿«æ·é”®å¤„ç†
3. **`popup.css`** - ä¾§è¾¹æ æ ·å¼æ–‡ä»¶

### åŠŸèƒ½ç‰¹æ€§

ä¾§è¾¹æ æä¾›ä¸å¼¹çª—ç›¸åŒçš„åŠŸèƒ½ï¼š

- ğŸ” **æ£€æŸ¥è¡Œæ•°** - æŸ¥çœ‹è¡¨æ ¼è¡Œæ•°ç»Ÿè®¡
- â• **æ·»åŠ è¡Œ** - è‡ªåŠ¨æ·»åŠ è¡¨æ ¼è¡Œ
- ğŸ“¥ **æå–æ•°æ®** - æå–è¡¨æ ¼æ•°æ®
- ğŸ“¤ **å¡«å……æ•°æ®** - å¡«å……æ•°æ®åˆ°è¡¨æ ¼

## ä½¿ç”¨æ–¹æ³•

### 1. å¼€å‘æ¨¡å¼

```bash
npm run dev
```

### 2. åŠ è½½æ‰©å±•

1. æ‰“å¼€ Chromeï¼Œè®¿é—® `chrome://extensions/`
2. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
3. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
4. é€‰æ‹© `build/chrome-mv3-dev` ç›®å½•

### 3. ä½¿ç”¨ä¾§è¾¹æ 

**æ–¹å¼ä¸€ï¼šç‚¹å‡»æ‰©å±•å›¾æ ‡**
- ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„æ‰©å±•å›¾æ ‡
- ä¾§è¾¹æ ä¼šè‡ªåŠ¨åœ¨å³ä¾§æ‰“å¼€

**æ–¹å¼äºŒï¼šå¿«æ·é”®**
- ä½¿ç”¨ `Ctrl+U` (Windows/Linux) æˆ– `Command+U` (macOS)
- å¿«é€Ÿæ‰“å¼€/å…³é—­ä¾§è¾¹æ 
- å¯ä»¥åœ¨ `chrome://extensions/shortcuts` ä¸­è‡ªå®šä¹‰å¿«æ·é”®

## é…ç½®è¯´æ˜

### background.ts é…ç½®

```typescript
// é…ç½®ä¾§è¾¹æ ï¼šç‚¹å‡»æ‰©å±•å›¾æ ‡æ—¶æ‰“å¼€ä¾§è¾¹æ 
chrome.runtime.onInstalled.addListener(() => {
  chrome.sidePanel.setOptions({
    enabled: true
  })
})

// å½“ç‚¹å‡»æ‰©å±•å›¾æ ‡æ—¶ï¼Œæ‰“å¼€ä¾§è¾¹æ 
chrome.action.onClicked.addListener((tab) => {
  chrome.sidePanel.open({ windowId: tab.windowId })
})

// å¤„ç†å¿«æ·é”®å‘½ä»¤
chrome.commands.onCommand.addListener((command) => {
  if (command === "toggle-sidepanel") {
    chrome.windows.getCurrent((window) => {
      if (window?.id) {
        chrome.sidePanel.open({ windowId: window.id })
      }
    })
  }
})
```

### å¿«æ·é”®é…ç½®

å¿«æ·é”®åœ¨ `package.json` çš„ `manifest.commands` å­—æ®µä¸­é…ç½®ï¼š

```json
{
  "manifest": {
    "commands": {
      "toggle-sidepanel": {
        "suggested_key": {
          "default": "Ctrl+U",
          "mac": "Command+U"
        },
        "description": "æ‰“å¼€/å…³é—­è¡¨æ ¼å·¥å…·ä¾§è¾¹æ "
      }
    }
  }
}
```

ç”¨æˆ·å¯ä»¥åœ¨ `chrome://extensions/shortcuts` ä¸­æŸ¥çœ‹å’Œè‡ªå®šä¹‰å¿«æ·é”®ã€‚

## æµè§ˆå™¨å…¼å®¹æ€§

- **Chrome 114+** - å®Œå…¨æ”¯æŒä¾§è¾¹æ  API
- **Edge 114+** - å®Œå…¨æ”¯æŒä¾§è¾¹æ  API
- **Firefox** - æš‚ä¸æ”¯æŒä¾§è¾¹æ  APIï¼ˆä¼šå›é€€åˆ°å¼¹çª—ï¼‰

## æ³¨æ„äº‹é¡¹

1. **æƒé™è¦æ±‚** - ä¾§è¾¹æ åŠŸèƒ½éœ€è¦ `sidePanel` æƒé™ï¼ˆPlasmo ä¼šè‡ªåŠ¨å¤„ç†ï¼‰
2. **çª—å£ ID** - ä¾§è¾¹æ æ˜¯æ¯ä¸ªçª—å£ç‹¬ç«‹çš„ï¼Œéœ€è¦åœ¨æ­£ç¡®çš„çª—å£ä¸­æ‰“å¼€
3. **æ ·å¼é€‚é…** - ä¾§è¾¹æ å®½åº¦é€šå¸¸ä¸º 300-600pxï¼Œéœ€è¦ç¡®ä¿ UI é€‚é…ä¸åŒå®½åº¦

## å¿«æ·é”®åŠŸèƒ½

æœ¬æ’ä»¶æ”¯æŒå¿«æ·é”®å¿«é€Ÿæ‰“å¼€ä¾§è¾¹æ ï¼š

- **Windows/Linux**: `Ctrl+U`
- **macOS**: `Command+U`

ç”¨æˆ·å¯ä»¥åœ¨ `chrome://extensions/shortcuts` ä¸­æŸ¥çœ‹å’Œè‡ªå®šä¹‰å¿«æ·é”®ã€‚

## æ•…éšœæ’é™¤

### ä¾§è¾¹æ æ— æ³•æ‰“å¼€

1. æ£€æŸ¥ Chrome ç‰ˆæœ¬æ˜¯å¦ >= 114
2. æ£€æŸ¥ `background.ts` æ˜¯å¦æ­£ç¡®é…ç½®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### æ ·å¼æ˜¾ç¤ºå¼‚å¸¸

1. æ£€æŸ¥ `popup.css` ä¸­çš„ä¾§è¾¹æ æ ·å¼
2. ç¡®ä¿ CSS é€‰æ‹©å™¨æ­£ç¡®åŒ¹é…ä¾§è¾¹æ å…ƒç´ 
3. ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æŸ¥æ ·å¼åº”ç”¨æƒ…å†µ

## å‚è€ƒèµ„æº

- [Chrome Side Panel API æ–‡æ¡£](https://developer.chrome.com/docs/extensions/reference/api/sidePanel)
- [Plasmo æ–‡æ¡£ - Extension Pages](https://docs.plasmo.com/framework/ext-pages)
- [Plasmo Side Panel ç¤ºä¾‹](https://docs.plasmo.com/framework/ext-pages#sidepanel)
